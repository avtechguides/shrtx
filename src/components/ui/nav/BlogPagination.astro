---
interface Props {
  currentPage: number;
  totalPages: number;
  basePath?: string; // e.g. '/blog/page'
}

const { currentPage, totalPages, basePath = '/blog/page' } = Astro.props as Props;
const prevHref = currentPage > 1 ? (currentPage === 2 ? '/blog/' : `${basePath}/${currentPage - 1}/`) : null;
const nextHref = currentPage < totalPages ? `${basePath}/${currentPage + 1}/` : null;
---

{totalPages > 1 && (
  <nav class="mt-6 flex items-center justify-center gap-3" aria-label="Pagination">
    {prevHref ? (
      <a href={prevHref} class="sw-btn" aria-label={`Go to page ${currentPage - 1}`}>Previous</a>
    ) : (
      <span class="sw-btn" aria-disabled="true" style="opacity:.5; pointer-events:none;">Previous</span>
    )}
    <span class="text-sm text-[var(--muted-foreground,#6b7280)]" aria-live="polite">
      Page {currentPage} of {totalPages}
    </span>
    {nextHref ? (
      <a href={nextHref} class="sw-btn" aria-label={`Go to page ${currentPage + 1}`}>Next</a>
    ) : (
      <span class="sw-btn" aria-disabled="true" style="opacity:.5; pointer-events:none;">Next</span>
    )}
  </nav>
)}
