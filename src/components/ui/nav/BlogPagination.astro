---
interface Props {
  currentPage: number;
  totalPages: number;
  basePath?: string; // e.g. '/blog/page'
}

const { currentPage, totalPages, basePath = '/blog/page' } = Astro.props as Props;
const prevHref = currentPage > 1 ? (currentPage === 2 ? '/blog/' : `${basePath}/${currentPage - 1}/`) : null;
const nextHref = currentPage < totalPages ? `${basePath}/${currentPage + 1}/` : null;
---

{totalPages > 1 && (
  <nav
    class="mt-6 flex items-center justify-center gap-5 select-none"
    aria-label="Pagination"
  >
    {prevHref ? (
      <a
        href={prevHref}
        class="sw-btn px-5 py-2 text-sm font-semibold rounded-lg shadow transition hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-[var(--accent)] disabled:opacity-50 disabled:pointer-events-none"
        aria-label={`Go to page ${currentPage - 1}`}
      >
        Previous
      </a>
    ) : (
      <span
        class="sw-btn px-5 py-2 text-sm font-semibold rounded-lg opacity-50 cursor-not-allowed select-none"
        aria-disabled="true"
      >
        Previous
      </span>
    )}
    <span
      class="text-sm font-medium text-[var(--muted-foreground,#6b7280)]"
      aria-live="polite"
    >
      Page {currentPage} of {totalPages}
    </span>
    {nextHref ? (
      <a
        href={nextHref}
        class="sw-btn px-5 py-2 text-sm font-semibold rounded-lg shadow transition hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-[var(--accent)] disabled:opacity-50 disabled:pointer-events-none"
        aria-label={`Go to page ${currentPage + 1}`}
      >
        Next
      </a>
    ) : (
      <span
        class="sw-btn px-5 py-2 text-sm font-semibold rounded-lg opacity-50 cursor-not-allowed select-none"
        aria-disabled="true"
      >
        Next
      </span>
    )}
  </nav>
)}
