---
import Button from '../ui/button/Button.astro';

interface Props {
  description?: string;
  buttonText?: string;
}
const {
  description = 'SHRTX is free to use and partly supported by ads. If youâ€™d like to help reduce reliance on advertising and support faster development, contributions are deeply appreciated.',
  buttonText = 'ðŸŒ± Help SHRTX Grow'
} = Astro.props as Props;
---

<section
  class="relative my-16 rounded-2xl bg-[var(--card)] text-[var(--card-foreground)] shadow-lg"
  aria-labelledby="donate-title"
  role="region"
>
  <div class="mx-auto max-w-4xl px-6 py-10 text-center">
    <h2 id="donate-title" class="sr-only">Support SHRTX</h2>

    <p class="text-sm md:text-base text-[var(--muted-foreground,#6b7280)] max-w-2xl mx-auto mb-6 leading-relaxed">
      {description}
    </p>

    <div class="flex justify-center">
      <Button
        href="/donation"
        variant="primary"
        size="lg"
        aria-label="Open donation page"
        class="donation-btn"
      >
        {buttonText}
      </Button>
    </div>

    <p class="text-xs md:text-sm text-[var(--muted-foreground,#6b7280)] mt-4 animate-fade-in animate-pulse-slow">
      Your support keeps SHRTX alive and evolving ðŸ’™
    </p>
  </div>
</section>

<style>
/* Fade-in + pulse for thank-you text */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(5px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes pulseSlow {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}
.animate-fade-in {
  animation: fadeIn 1s ease-out forwards;
}
.animate-pulse-slow {
  animation: pulseSlow 3s ease-in-out infinite;
}
@media (prefers-reduced-motion: reduce) {
  .animate-fade-in, .animate-pulse-slow {
    animation: none !important;
  }
}

/* Button hover animation */
.donation-btn {
  transition: transform 0.25s ease, box-shadow 0.25s ease;
}
.donation-btn:hover {
  transform: scale(1.05);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25),
              0 0 15px var(--accent, #3b82f6);
}

/* Screen reader only */
.sr-only {
  position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border: 0;
}
</style>
