---
interface Props {
  title: string;
  subtitle?: string;

  // URL shortener controls
  shortenPlaceholder?: string;
  shortenButtonText?: string;
  onShortenSubmit?: string;
  shortenMethod?: 'get' | 'post';

  // QR controls
  qrPlaceholder?: string;
  qrButtonText?: string;
  onQrSubmit?: string;
  qrMethod?: 'get' | 'post';
}

const {
  title,
  subtitle,

  shortenPlaceholder = 'https://example.com/my-long-url',
  shortenButtonText = 'Shorten Link â†’',
  onShortenSubmit = '#',
  shortenMethod = 'get',

  qrPlaceholder = 'Enter URL for QR code',
  qrButtonText = 'Generate QR â†’',
  onQrSubmit = '#',
  qrMethod = 'get',
} = Astro.props as Props;
---

<section
  class="w-full pt-[calc(var(--header-offset,64px)+0.5rem)] pb-10 bg-[var(--background)] text-[var(--foreground)] transition-colors duration-300"
  aria-labelledby="hero-title"
>
  <div class="max-w-5xl mx-auto px-4 text-center mb-8">
    <h1 id="hero-title" class="text-4xl md:text-6xl font-extrabold tracking-tight mb-4">
      <span class="bg-gradient-to-r from-[var(--accent)] to-[var(--accent-dark)] bg-clip-text text-transparent">
        {title}
      </span>
    </h1>
    {subtitle && (
      <p class="mt-2 text-lg md:text-xl text-[var(--muted-foreground,#6b7280)] max-w-2xl mx-auto transition-colors duration-300">
        {subtitle}
      </p>
    )}
  </div>

  <div class="max-w-5xl mx-auto px-4 flex flex-col md:flex-row gap-6">
    <!-- URL Shortener Card -->
    <form
      action={onShortenSubmit}
      method={shortenMethod}
      class="flex-1 p-6 md:p-8 rounded-2xl bg-[var(--card)] text-[var(--card-foreground)] ring-1 ring-inset ring-[var(--border)] shadow-lg relative overflow-hidden transition-transform duration-200 hover:-translate-y-0.5 group"
      aria-labelledby="shorten-title"
    >
      <span aria-hidden="true" class="pointer-events-none absolute inset-0 rounded-2xl p-[2px] opacity-15 transition-opacity duration-500 group-hover:opacity-35">
        <span
          class="absolute inset-0 rounded-2xl"
          style="background: linear-gradient(90deg, var(--accent), var(--accent-dark)); mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); -webkit-mask-composite: xor; mask-composite: exclude; padding: 2px;"
        ></span>
      </span>

      <div class="relative flex flex-col items-start gap-3">
        <h3 id="shorten-title" class="text-xl md:text-2xl font-extrabold">
          <span aria-hidden="true">ðŸ”—</span> <span>Shorten a URL</span>
        </h3>
        <label for="longUrl" class="sr-only">Long URL</label>
        <input
          id="longUrl"
          type="url"
          name="longUrl"
          placeholder={shortenPlaceholder}
          required
          class="w-full px-4 py-3 border border-[var(--border)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--accent)] transition bg-[var(--card)] text-[var(--card-foreground)] shadow-sm"
          autocomplete="url"
          inputmode="url"
        />
        <button
          type="submit"
          class="mt-1 w-full px-6 py-3 rounded-lg bg-[var(--primary)] text-[var(--primary-foreground)] font-bold hover:bg-[var(--primary-hover, var(--accent-dark))] transition shadow-md hover:shadow-lg disabled:opacity-60 disabled:cursor-not-allowed"
        >
          {shortenButtonText}
        </button>
      </div>
    </form>

    <!-- QR Code Generator Card -->
    <form
      action={onQrSubmit}
      method={qrMethod}
      class="flex-1 p-6 md:p-8 rounded-2xl bg-[var(--card)] text-[var(--card-foreground)] ring-1 ring-inset ring-[var(--border)] shadow-lg relative overflow-hidden transition-transform duration-200 hover:-translate-y-0.5 group"
      aria-labelledby="qr-title"
    >
      <span aria-hidden="true" class="pointer-events-none absolute inset-0 rounded-2xl p-[2px] opacity-15 transition-opacity duration-500 group-hover:opacity-35">
        <span
          class="absolute inset-0 rounded-2xl"
          style="background: linear-gradient(90deg, var(--accent), var(--accent-dark)); mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); -webkit-mask-composite: xor; mask-composite: exclude; padding: 2px;"
        ></span>
      </span>

      <div class="relative flex flex-col items-start gap-3">
        <h3 id="qr-title" class="text-xl md:text-2xl font-extrabold">
          <span aria-hidden="true">ðŸ“±</span> <span>Generate QR Code</span>
        </h3>
        <label for="qrUrl" class="sr-only">URL for QR code</label>
        <input
          id="qrUrl"
          type="url"
          name="qrUrl"
          placeholder={'Enter URL for QR code'}
          required
          class="w-full px-4 py-3 border border-[var(--border)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--accent)] transition bg-[var(--card)] text-[var(--card-foreground)] shadow-sm"
          autocomplete="url"
          inputmode="url"
        />
        <button
          type="submit"
          class="mt-1 w-full px-6 py-3 rounded-lg bg-[var(--primary)] text-[var(--primary-foreground)] font-bold hover:bg-[var(--primary-hover, var(--accent-dark))] transition shadow-md hover:shadow-lg disabled:opacity-60 disabled:cursor-not-allowed"
        >
          {qrButtonText}
        </button>
      </div>
    </form>
  </div>
</section>
